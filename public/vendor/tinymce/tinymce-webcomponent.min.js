/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /npm/@tinymce/tinymce-webcomponent@1.2.0/dist/tinymce-webcomponent.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(){"use strict";var t="undefined"!=typeof window?window:Function("return this;")(),e=function(e,o){return function(e,o){for(var n=null!=o?o:t,s=0;s<e.length&&null!=n;++s)n=n[e[s]];return n}(e.split("."),o)},o=Object.hasOwnProperty,n=function(t,e){return o.call(t,e)},s=0;const i=()=>{return{listeners:[],scriptId:(t="tiny-script",e=(new Date).getTime(),t+"_"+Math.floor(1e9*Math.random())+ ++s+String(e)),scriptLoaded:!1};var t,e},r=(()=>{let t=i();return{load:(e,o,n)=>{t.scriptLoaded?n():(t.listeners.push(n),e.getElementById(t.scriptId)||((t,e,o,n)=>{const s=e.createElement("script");s.referrerPolicy="origin",s.type="application/javascript",s.id=t,s.src=o;const i=()=>{s.removeEventListener("load",i),n()};s.addEventListener("load",i),e.head&&e.head.appendChild(s)})(t.scriptId,e,o,(()=>{t.listeners.forEach((t=>t())),t.scriptLoaded=!0})))},reinitialize:()=>{t=i()}}})();var a;!function(t){t[t.Raw=0]="Raw",t[t.Initializing=1]="Initializing",t[t.Ready=2]="Ready"}(a||(a={}));const l=t=>e=>n(t,e)?t[e]:e,d=e,u=function(t){return t},h=l({false:!1}),c=l({true:!0,false:!1}),m=t=>/^\d+$/.test(t)?Number.parseInt(t,10):t,_={setup:d,toolbar:h,menubar:h,plugins:u,content_css:u,content_style:u,width:m,height:m,toolbar_mode:u,contextmenu:h,quickbars_insert_toolbar:h,quickbars_selection_toolbar:h,powerpaste_word_import:u,powerpaste_html_import:u,powerpaste_allow_local_images:c,resize:c,skin:u,skin_url:u,images_upload_url:u,images_upload_handler:d,images_upload_base_path:u,images_upload_credentials:c,images_reuse_filename:c,icons:u,icons_url:u},f={};class p extends HTMLElement{constructor(){super(),this._eventAttrHandler=t=>{t.forEach((t=>{var e;"attributes"===t.type&&t.target===this&&(null===(e=t.attributeName)||void 0===e?void 0:e.toLowerCase().startsWith("on-"))&&this._updateEventAttr(t.attributeName,this.getAttribute(t.attributeName))}))},this._formDataHandler=t=>{const e=this.name;if(null!==e){t.formData.append(e,this.value)}},this._status=a.Raw,this._shadowDom=this.attachShadow({mode:"open"}),this._form=null,this._eventHandlers={},this._mutationObserver=new MutationObserver(this._eventAttrHandler)}static get formAssociated(){return!0}static get observedAttributes(){return["form","readonly","autofocus","placeholder"].concat(["on-BeforePaste","on-Blur","on-Click","on-ContextMenu","on-Copy","on-Cut","on-Dblclick","on-Drag","on-DragDrop","on-DragEnd","on-DragGesture","on-DragOver","on-Drop","on-Focus","on-FocusIn","on-FocusOut","on-KeyDown","on-KeyPress","on-KeyUp","on-MouseDown","on-MouseEnter","on-MouseLeave","on-MouseMove","on-MouseOut","on-MouseOver","on-MouseUp","on-Paste","on-SelectionChange"]).concat(["on-Activate","on-AddUndo","on-BeforeAddUndo","on-BeforeExecCommand","on-BeforeGetContent","on-BeforeRenderUI","on-BeforeSetContent","on-Change","on-ClearUndos","on-Deactivate","on-Dirty","on-ExecCommand","on-GetContent","on-Hide","on-Init","on-LoadContent","on-NodeChange","on-PostProcess","on-PostRender","on-PreProcess","on-ProgressState","on-Redo","on-Remove","on-Reset","on-SaveContent","on-SetAttrib","on-ObjectResizeStart","on-ObjectResized","on-ObjectSelected","on-SetContent","on-Show","on-Submit","on-Undo","on-VisualAid"])}_updateEventAttr(t,o){const n=t.substring("on-".length).toLowerCase(),s=null!==o?e(o):void 0;this._eventHandlers[n]!==s&&(this._editor&&this._eventHandlers[n]&&this._editor.off(n,this._eventHandlers[n]),s?(this._editor&&this._editor.on(n,s),this._eventHandlers[n]=s):delete this._eventHandlers[n])}_updateForm(){if(this.isConnected){const t=this.getAttribute("form"),e=null!==t?this.ownerDocument.querySelector("form#"+t):this.closest("form");this._form!==e&&(null!==this._form&&this._form.removeEventListener("formdata",this._formDataHandler),this._form=e,null!==this._form&&this._form.addEventListener("formdata",this._formDataHandler))}else null!==this._form&&(this._form.removeEventListener("formdata",this._formDataHandler),this._form=null)}_getTinymce(){return t.tinymce}_getConfig(){var t,e;const o=null!==(e=d(null!==(t=this.getAttribute("config"))&&void 0!==t?t:""))&&void 0!==e?e:{};for(let t=0;t<this.attributes.length;t++){const e=this.attributes.item(t);if(null!==e&&n(_,e.name)){o[n(f,e.name)?f[e.name]:e.name]=_[e.name](e.value)}}return this.readonly&&(o.readonly=!0),this.autofocus&&(o.auto_focus=!0),delete o.target,delete o.selector,o}_getEventHandlers(){const t={};for(let o=0;o<this.attributes.length;o++){const n=this.attributes.item(o);if(null!==n&&n.name.toLowerCase().startsWith("on-")){const o=n.name.toLowerCase().substr("on-".length),s=e(n.value);t[o]=s}}return t}_doInit(){var t;this._status=a.Initializing;const e=document.createElement("textarea");e.value=null!==(t=this.textContent)&&void 0!==t?t:"",null!==this.placeholder&&(e.placeholder=this.placeholder),this._shadowDom.appendChild(e);const o=this._getConfig(),n=Object.assign(Object.assign({},o),{target:e,setup:t=>{this._editor=t,t.on("init",(t=>{this._status=a.Ready})),t.on("SwitchMode",(t=>{this.readonly=this.readonly})),Object.keys(this._eventHandlers).forEach((e=>{t.on(e,this._eventHandlers[e])})),"function"==typeof o.setup&&o.setup(t)}});this._getTinymce().init(n)}_getTinymceSrc(){var t;const e=this.getAttribute("src");if(e)return e;const o=null!==(t=this.getAttribute("channel"))&&void 0!==t?t:"5-stable";return`https://cdn.tiny.cloud/1/${this.hasAttribute("api-key")?this.getAttribute("api-key"):"no-api-key"}/tinymce/${o}/tinymce.min.js`}_loadTinyDoInit(){this._getTinymce()?this._doInit():r.load(this.ownerDocument,this._getTinymceSrc(),(()=>this._doInit()))}attributeChangedCallback(t,e,o){e!==o&&("form"===t?this._updateForm():"readonly"===t?this.readonly=null!==o:"autofocus"===t?this.autofocus=null!==o:"placeholder"===t?this.placeholder=o:t.toLowerCase().startsWith("on")&&this._updateEventAttr(t,o))}connectedCallback(){this._eventHandlers=this._getEventHandlers(),this._mutationObserver.observe(this,{attributes:!0,childList:!1,subtree:!1}),this._updateForm(),this._status===a.Raw&&this._loadTinyDoInit()}disconnectedCallback(){this._mutationObserver.disconnect(),this._updateForm()}get value(){return this._status===a.Ready?this._editor.getContent():void 0}set value(t){this._status===a.Ready&&this._editor.setContent(t)}get readonly(){return this._editor?"readonly"===this._editor.mode.get():this.hasAttribute("readonly")}set readonly(t){t?(this._editor&&"readonly"!==this._editor.mode.get()&&this._editor.mode.set("readonly"),this.hasAttribute("readonly")||this.setAttribute("readonly","")):(this._editor&&"readonly"===this._editor.mode.get()&&this._editor.mode.set("design"),this.hasAttribute("readonly")&&this.removeAttribute("readonly"))}get placeholder(){return this.getAttribute("placeholder")}set placeholder(t){if(this._editor){const e=this._editor.getElement();null!==e&&(null!==t?e.setAttribute("placeholder",t):e.removeAttribute("placeholder"))}null!==t?this.getAttribute("placeholder")!==t&&this.setAttribute("placeholder",t):this.hasAttribute("placeholder")&&this.removeAttribute("placeholder")}get autofocus(){return this.hasAttribute("autofocus")}set autofocus(t){t?this.hasAttribute("autofocus")||this.setAttribute("autofocus",""):this.hasAttribute("autofocus")&&this.removeAttribute("autofocus")}get form(){return this._form}get name(){return this.getAttribute("name")}get type(){return this.localName}}window.customElements.define("tinymce-editor",p)}();
//# sourceMappingURL=/sm/acbe92d59aab9f5ca10195051511c95e17ec4a50bb84395d32e757514315560f.map